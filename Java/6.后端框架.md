## WHERE 1 = 1
```
SELECT * FROM user
WHERE 1 = 1
  <if test="name != null">
    AND name = #{name}
  </if>
  <if test="age != null">
    AND age = #{age}
  </if>
```
- 所有条件统一加 AND
- 不用判断是不是第一个
- SQL 结构超级干净
- Mybatis 标签结构

## Mapper / Repository / DAO
- 本质都是“数据访问层（持久层）
- DAO = Data Access Object 
- DAO 是一个设计模式概念
- Mapper = DAO（在 MyBatis 语境下）


## 为什么 `Service` 能直接调用 `Mapper 接口`？
`Service` 能直接调用 `Mapper 接口`，
是因为 `MyBatis` 在运行时生成实现类，
`Spring` 把它当成 `Bean` 注入进来。
- “底层公式”

`Service 调 Mapper` =
`Spring 注入` + `MyBatis 动态代理`

## `Lombok`
- `Lombok` 是一个 Java 工具库
- 用注解在“编译期”自动生成样板代码。
- Lombok 在编译阶段“插入”代码，不是运行时反射。
- Lombok ❌ 不是 Spring 的一部分
- Lombok ❌ 不创建 Bean
- Lombok ❌ 不参与 IOC / DI
- 它只是省代码，不改变 Spring 原理。
- 自动生成 getter / setter / 构造方法 / toString / equals / hashCode

## `Autowired`
#### `@Autowired` 的作用：
- 把 Spring 容器里的 Bean，自动注入到你需要的地方。
#### `@Autowired` 本质上是什么？
- `@Autowired` = Spring 的依赖注入（DI）注解。
- 它配合：Bean / IOC 容器 一起工作。

## `MyBatis`
- `MyBatis` 不是 `Spring` 自带的机制。
- 它是一个独立的「持久层（数据库）框架」
- 只是和 `Spring` 集成得非常好。
- `MyBatis` 负责：
把你写的 SQL，执行到数据库里，并把结果封装成 Java 对象。
- Java 代码  ⇄  SQL  ⇄  数据库
```
Controller  →  Service  →  Mapper  →  数据库
           Spring         MyBatis
```
- Controller / Service：Spring 管
- 事务 / Bean：Spring 管
- Mapper / SQL：MyBatis 管

#### MyBatis 在 spring 里怎么写
- interface：定义“我能干什么”
- XML：定义“SQL 怎么写”
- MyBatis：把两者绑定起来


## `bean`
- bean 是什么
- 被容器创建并管理的对象，叫 Bean
- 加了 特定的 @ 注解，本质上就是把这个类交给 Spring，当成一个 Bean 来管理
- bean 是 spring 自带的机制

## Java Web 技术演进
```
Servlet  →  JSP  →  Struts / JSF 等 MVC 框架  →

Spring MVC  →  Spring Boot
```
Servlet 是底层标准 →  サーブレット

Struts 曾经风光但现在淘汰 → ストラッツ 

Spring MVC 成为主流 → 

Spring Boot 把 Spring MVC 打包成更现代的方式，如今是绝对主流


| 名字 | 含义 | 为什么这样叫？|
| ------------| --------- | ---------- | 
| **Servlet** | 服务小程序 | Serve（服务） + let（小东西） → “小服务程序”。处理 HTTP 请求的 “小服务组件” |
| **Struts**  | 支架、骨架结构 | 支柱 / 框架。它是 Web 应用的“骨架结构”，支撑你的 MVC 逻辑 |
| **Spring**  | 春天 | 让 Java 企业开发重新变得简单、轻松，就像“春天”一样恢复生机。于是就叫做 —— Spring。强大但复杂的框架 |
| **Spring Boot** | Spring 的启动工具 | 自动配置，快速启动 Spring | 
